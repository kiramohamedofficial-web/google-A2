@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;700;900&display=swap');

:root {
  --font-family: 'Cairo', sans-serif;
  --border-radius: 12px;
  --border-radius-lg: 20px;
  --border-radius-pill: 50px;
  --transition-speed: 0.3s ease;
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --header-height: 65px;
}

body[data-theme="light"] {
  --bg-color: #f4f7fa;
  --bg-secondary-color: #ffffff;
  --text-color: #1a202c;
  --text-muted-color: #718096;
  --border-color: #e2e8f0;
  --accent-color: #3b82f6;
  --accent-rgb: 59, 130, 246;
  --accent-text-color: #ffffff;
  --accent-hover-color: #2563eb;
  --success-color: #48bb78;
  --error-color: #f56565;
  --info-color: #4299e1;
  --link-color: #3b82f6;
  --card-bg: #ffffff;
  --card-shadow: 0 4px 12px rgba(0,0,0,0.05);
  --input-bg: #f3f4f6;
  --ai-bubble-bg: #e2e8f0;
  --theme-btn-shadow: #dbeafe;
  --header-bg-rgba: 90, 136, 179;
  --header-text-color: #ffffff;
  --danger-bg: #fee2e2;
  --danger-border: #fca5a5;
  --danger-text: #b91c1c;
}

body[data-theme="dark"] {
  --bg-color: #1a202c;
  --bg-secondary-color: #2d3748;
  --text-color: #e2e8f0;
  --text-muted-color: #a0aec0;
  --border-color: #4a5568;
  --accent-color: #60a5fa;
  --accent-rgb: 96, 165, 250;
  --accent-text-color: #1a202c;
  --accent-hover-color: #93c5fd;
  --success-color: #68d391;
  --error-color: #fc8181;
  --info-color: #63b3ed;
  --link-color: #60a5fa;
  --card-bg: #2d3748;
  --card-shadow: 0 4px 12px rgba(0,0,0,0.2);
  --input-bg: #4a5568;
  --ai-bubble-bg: #4a5568;
  --theme-btn-shadow: #1e3a8a;
  --header-bg-rgba: 45, 55, 72;
  --header-text-color: #e2e8f0;
  --danger-bg: #452323;
  --danger-border: #9b3939;
  --danger-text: #fca5a5;
}

body[data-theme="pink"] {
  --bg-color: #fdf2f8; 
  --bg-secondary-color: #ffffff;
  --text-color: #831843; 
  --text-muted-color: #be185d; 
  --border-color: #fbcfe8; 
  --accent-color: #ec4899; 
  --accent-rgb: 236, 72, 153;
  --accent-text-color: #ffffff;
  --accent-hover-color: #db2777; 
  --success-color: #db2777;
  --error-color: #e11d48;
  --info-color: #f472b6;
  --link-color: #ec4899;
  --card-bg: #ffffff;
  --card-shadow: 0 4px 12px rgba(219, 39, 119, 0.08);
  --input-bg: #fce7f3;
  --ai-bubble-bg: #fce7f3;
  --theme-btn-shadow: #fbcfe8;
  --header-bg-rgba: 219, 39, 119;
  --header-text-color: #ffffff;
  --danger-bg: #fef1f2;
  --danger-border: #fecdd3;
  --danger-text: #be123c;
}


/* --- BASE & BODY --- */
* {
  box-sizing: border-box;
}
html, body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
body {
  margin: 0;
  font-family: var(--font-family);
  color: var(--text-color);
  background: var(--bg-color);
  transition: background-color var(--transition-speed), color var(--transition-speed);
}
#root { min-height: 100vh; width: 100vw; position: relative; overflow-x: hidden; }
.icon { display: inline-flex; align-items: center; justify-content: center; }

h1, h2, h3, h4, h5, h6 {
  font-weight: 700;
  color: var(--text-color);
}
p {
  color: var(--text-muted-color);
  line-height: 1.6;
}

/* --- UTILITY & SHARED CLASSES --- */
.page-container {
  padding: 1.5rem;
  animation: fadeIn 0.5s ease-in-out;
  max-width: 900px;
  margin: 0 auto;
}
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

.content-card {
  background: var(--card-bg);
  border-radius: var(--border-radius-lg);
  padding: 1.5rem 2rem;
  box-shadow: var(--card-shadow);
  border: 1px solid var(--border-color);
  transition: all var(--transition-speed);
}
.content-section-title {
  font-size: 1.75rem;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

/* --- AUTH SCREEN --- */
.auth-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  min-height: 100vh;
  width: 100vw;
}
.auth-panel {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}
.auth-art-panel {
  background-color: var(--accent-color);
  background-image: linear-gradient(135deg, var(--accent-hover-color) 0%, var(--accent-color) 100%);
  color: var(--accent-text-color);
  text-align: center;
}
.auth-art-content {
    max-width: 400px;
}
.auth-art-content h2 {
    font-size: 2.5rem;
    font-weight: 900;
    color: var(--accent-text-color);
    margin-bottom: 1rem;
}
.auth-art-content p {
    font-size: 1.1rem;
    line-height: 1.7;
    opacity: 0.9;
    color: var(--accent-text-color);
}
.auth-form-panel {
  background-color: var(--bg-secondary-color);
}
.auth-content { width: 100%; max-width: 420px; text-align: center; }
.auth-header { margin-bottom: 1rem; }
.auth-header h1 { font-size: 2.2rem; font-weight: 900; color: var(--text-color); margin: 0 0 0.5rem; }
.auth-card {
  padding: 2rem;
  background: var(--bg-secondary-color);
  border-radius: var(--border-radius-lg);
  box-shadow: none;
}
.form-title {
  font-size: 1.5rem;
  margin: 0 0 1.5rem;
  font-weight: 700;
}
.input-group {
  position: relative;
  margin-bottom: 1.25rem;
}
.input-group .input-icon {
  position: absolute;
  top: 50%;
  right: 1.25rem;
  transform: translateY(-50%);
  color: var(--text-muted-color);
  pointer-events: none;
}
.input-group input, .input-group select {
  width: 100%;
  padding: 0.9rem 3.5rem 0.9rem 1rem;
  border: 1px solid var(--border-color);
  background-color: var(--input-bg);
  border-radius: var(--border-radius);
  color: var(--text-color);
  font-family: var(--font-family);
  font-size: 1rem;
  transition: all var(--transition-speed);
  text-align: right;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}
.input-group input::placeholder { color: var(--text-muted-color); }
.input-group input:focus, .input-group select:focus {
  outline: none;
  border-color: var(--accent-color);
  box-shadow: 0 0 0 3px rgba(var(--accent-rgb), 0.2);
}
.input-group.has-select::after {
    content: 'â–¾';
    position: absolute;
    left: 1.25rem;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    color: var(--text-muted-color);
    font-size: 1.2rem;
}
.auth-btn {
  width: 100%;
  padding: 0.9rem;
  font-size: 1.1rem;
  font-weight: 700;
  background: var(--accent-color);
  color: var(--accent-text-color);
  border: none;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: all var(--transition-speed);
  margin-top: 0.5rem;
}
.auth-btn:hover:not(:disabled) { background: var(--accent-hover-color); transform: translateY(-2px); box-shadow: var(--shadow-md); }
.auth-btn:disabled { background-color: var(--text-muted-color); cursor: not-allowed; opacity: 0.7; }
.auth-link {
  background: none; border: none; color: var(--link-color); cursor: pointer;
  padding: 0.5rem; font-size: 0.9rem; font-family: var(--font-family);
  transition: color var(--transition-speed); display: block; margin-top: 1rem;
}
.auth-link:hover { color: var(--accent-hover-color); text-decoration: underline; }
.auth-link-separator { margin-top: 1.5rem; font-size: 0.9rem; color: var(--text-muted-color); }
.auth-link-separator a { color: var(--link-color); font-weight: 700; cursor: pointer; }
.auth-link-separator a:hover { text-decoration: underline; }
.demo-buttons { display: flex; gap: 1rem; margin-top: 1.5rem; }
.demo-btn {
  flex: 1;
  padding: 0.75rem; font-size: 0.9rem; font-weight: 500;
  border: 1px solid var(--border-color); color: var(--text-muted-color);
  background: var(--bg-color); border-radius: var(--border-radius);
  cursor: pointer; transition: all var(--transition-speed);
}
.demo-btn:hover { background-color: var(--border-color); color: var(--text-color); }
.auth-error {
  color: var(--error-color); background-color: color-mix(in srgb, var(--error-color) 15%, transparent);
  padding: 0.75rem; border-radius: var(--border-radius); font-size: 0.9rem;
  margin-bottom: 1rem;
  text-align: center;
}
.auth-subtext {
  font-size: 0.95rem;
  color: var(--text-muted-color);
  margin: -1rem 0 1.5rem;
}
.auth-footer { margin-top: 2rem; display: flex; justify-content: center; align-items: center; gap: 0.75rem; }
.auth-footer a { color: var(--text-muted-color); font-size: 0.85rem; text-decoration: none; cursor: pointer; }
.auth-footer a:hover { color: var(--accent-color); text-decoration: underline;}
.auth-footer span { color: var(--text-muted-color); }

/* --- MAIN APP LAYOUT --- */
.main-layout { display: flex; flex-direction: column; min-height: 100vh; }
.main-content {
  flex-grow: 1;
  padding-top: calc(var(--header-height) + 2rem);
}

.app-header {
  position: fixed;
  top: 1rem;
  left: 50%;
  width: calc(100% - 2rem);
  max-width: 900px;
  z-index: 1000;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 1rem;
  height: var(--header-height);
  
  background: rgba(var(--header-bg-rgba), 0.7);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-lg);
  
  opacity: 0;
  transform: translateY(-100px) translateX(-50%);
  pointer-events: none;
  transition: opacity 0.5s cubic-bezier(0.25, 1, 0.5, 1), transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
}
.app-header.visible { 
  opacity: 1;
  transform: translateY(0) translateX(-50%);
  pointer-events: auto;
}

.header-title {
    color: var(--header-text-color);
    font-size: 1.8rem;
    font-weight: 900;
    margin: 0;
    cursor: pointer;
    letter-spacing: 1px;
    text-shadow:
      1px 1px 0px rgba(0,0,0,0.2),
      2px 2px 0px rgba(0,0,0,0.2),
      3px 3px 0px rgba(0,0,0,0.2),
      4px 4px 6px rgba(0,0,0,0.35);
}

.header-icon-btn {
  background: rgba(255, 255, 255, 0.15);
  border: none;
  border-radius: 50%;
  width: 44px;
  height: 44px;
  color: var(--header-text-color);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s;
  padding: 0;
  position: relative;
}
.header-icon-btn:hover {
  background: rgba(255, 255, 255, 0.25);
}
.header-icon-btn svg {
    width: 24px;
    height: 24px;
}

/* --- SIDEBAR --- */
.sidebar-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); backdrop-filter: blur(4px); z-index: 1001; transition: opacity var(--transition-speed); opacity: 0; pointer-events: none; }
.sidebar-overlay.open { opacity: 1; pointer-events: auto; }
.sidebar {
  position: fixed; top: 0; right: 0; width: 300px; height: 100%;
  background: var(--bg-secondary-color);
  z-index: 1002;
  transform: translateX(100%);
  transition: transform var(--transition-speed);
  display: flex; flex-direction: column;
  box-shadow: -5px 0 15px rgba(0,0,0,0.1);
  border-left: 1px solid var(--border-color);
}
.sidebar.open { transform: translateX(0); }

.sidebar-close-btn {
    position: absolute;
    top: 15px;
    left: 15px;
    background: color-mix(in srgb, var(--text-color) 8%, transparent);
    border: none;
    border-radius: 50%;
    width: 36px;
    height: 36px;
    color: var(--text-muted-color);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    line-height: 1;
    z-index: 10;
    transition: all 0.2s;
}
.sidebar-close-btn:hover {
    background: color-mix(in srgb, var(--text-color) 15%, transparent);
    color: var(--text-color);
    transform: rotate(90deg) scale(1.1);
}

.sidebar-profile-card {
    padding: 2.5rem 1.5rem 1.5rem;
    text-align: center;
    border-bottom: 1px solid var(--border-color);
    cursor: pointer;
    transition: all var(--transition-speed);
    position: relative;
    background: var(--bg-color);
}
.sidebar-profile-card:hover {
    background: color-mix(in srgb, var(--accent-color) 4%, transparent);
}
.profile-card-avatar-large {
    width: 80px;
    height: 80px;
    font-size: 2.5rem;
    margin: 0 auto 1rem;
    border: 4px solid var(--bg-secondary-color);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
.sidebar-profile-card h3 {
    margin: 0 0 0.25rem;
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--text-color);
}
.sidebar-profile-card p {
    margin: 0;
    font-size: 0.9rem;
    color: var(--text-muted-color);
    font-weight: 500;
}
.sidebar-nav { flex-grow: 1; padding: 1rem; overflow-y: auto; }
.nav-item {
    display: flex; align-items: center; gap: 1rem; padding: 0.8rem 1rem;
    color: var(--text-muted-color); text-decoration: none; cursor: pointer;
    transition: all 0.2s; border-radius: var(--border-radius); font-weight: 500;
    margin-bottom: 0.5rem;
}
.nav-item:hover { color: var(--text-color); background: var(--bg-color); }
.nav-item.active {
    color: var(--accent-text-color);
    font-weight: 700;
    background: var(--accent-color);
    box-shadow: 0 4px 10px rgba(var(--accent-rgb), 0.3);
}
.nav-item .nav-item-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
}
.nav-item svg {
    width: 20px;
    height: 20px;
    transition: all var(--transition-speed);
}
.nav-item.active svg {
    stroke: var(--accent-text-color);
}
.nav-item.owner-panel-link {
    margin-top: 1rem;
    background: color-mix(in srgb, var(--accent-color) 10%, transparent);
    color: var(--accent-color);
    font-weight: 700;
}
.nav-item.owner-panel-link:hover {
    background: color-mix(in srgb, var(--accent-color) 20%, transparent);
}
.nav-item.owner-panel-link.active { background: var(--accent-color); color: var(--accent-text-color); border-color: var(--accent-color); }
.sidebar-divider { border: none; height: 1px; background-color: var(--border-color); margin: 1rem 0; }
.sidebar-footer { padding: 1rem; border-top: 1px solid var(--border-color); margin-top: auto; display:flex; flex-direction:column; gap: 1rem; background-color: var(--bg-color); }
.logout-btn {
    display: flex; align-items: center; justify-content: center; gap: 0.75rem; width: 100%;
    padding: 0.75rem; border: none; background: var(--bg-secondary-color); color: var(--text-muted-color);
    border-radius: var(--border-radius); font-size: 1rem; font-weight: 700; cursor: pointer; transition: all var(--transition-speed);
}
.logout-btn:hover { background: color-mix(in srgb, var(--error-color) 15%, transparent); color: var(--error-color); }

.theme-switcher-container {
    background: var(--bg-secondary-color);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-pill);
    padding: 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.theme-switcher-label {
    color: var(--text-muted-color);
    font-size: 0.9rem;
    font-weight: 500;
    padding: 0 0.75rem;
}
.theme-switcher {
    display: flex;
    background: var(--bg-color);
    border-radius: var(--border-radius-pill);
    padding: 4px;
    gap: 0.5rem;
}
.theme-switcher button {
    flex: none;
    background: transparent;
    border: none;
    border-radius: 50%;
    padding: 0;
    width: 32px;
    height: 32px;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.25, 1, 0.5, 1);
    color: var(--text-muted-color);
    position: relative;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    justify-content: center;
}
.theme-switcher button:hover {
    transform: translateY(-2px) scale(1.1);
}
.theme-switcher button.active {
    background: var(--accent-color);
    color: var(--accent-text-color);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
}
.sidebar-copyright {
    font-size: 0.75rem; color: var(--text-muted-color);
    text-align: center; padding-top: 0.5rem; cursor: pointer;
}
.sidebar-copyright:hover { color: var(--text-color); }


/* --- DASHBOARD --- */
.dashboard-page .page-container { display: flex; flex-direction: column; gap: 2.5rem; }
.daily-ticker-bar {
  background: var(--card-bg); color: var(--text-color);
  padding: 0 1.5rem; display: flex; align-items: center; overflow: hidden; box-shadow: var(--card-shadow);
  height: 60px; border-radius: var(--border-radius-lg); border: 1px solid var(--border-color);
}
.ticker-icon { font-size: 1.5rem; margin-left: 1rem; animation: pulse 2s infinite; }
@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
.ticker-wrapper-vertical { height: 100%; flex-grow: 1; position: relative; overflow: hidden; }
.ticker-content-vertical {
  position: absolute; top: 0; right: 0; width: 100%;
  animation-name: ticker-scroll-vertical;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-duration: 60s; /* Slower animation */
}
.ticker-item-vertical {
  display: flex; align-items: center; justify-content: space-between; height: 60px; padding: 0 1rem;
  transition: background-color var(--transition-speed); cursor: pointer;
}
.ticker-item-vertical:hover { background-color: var(--bg-color); }
@keyframes ticker-scroll-vertical {
    0%   { transform: translateY(0%); }
    18%  { transform: translateY(0%); }
    20%  { transform: translateY(-100%); }
    38%  { transform: translateY(-100%); }
    40%  { transform: translateY(-200%); }
    58%  { transform: translateY(-200%); }
    60%  { transform: translateY(-300%); }
    78%  { transform: translateY(-300%); }
    80%  { transform: translateY(-400%); }
    98%  { transform: translateY(-400%); }
    100% { transform: translateY(-500%); }
}

.weekly-schedule-wrapper { padding: 0; }
.horizontal-scroll-area { display: flex; gap: 1.5rem; overflow-x: auto; padding-bottom: 1.5rem; -ms-overflow-style: none; scrollbar-width: none; scroll-snap-type: x mandatory; }
.horizontal-scroll-area::-webkit-scrollbar { display: none; }
.day-card {
  flex: 0 0 320px; background: var(--card-bg); border: 1px solid var(--border-color); border-radius: var(--border-radius-lg);
  box-shadow: var(--card-shadow); padding: 1.25rem; display: flex; flex-direction: column; transition: all var(--transition-speed);
  position: relative; z-index: 1; scroll-snap-align: start;
}
.day-card:hover { transform: translateY(-8px) scale(1.03); box-shadow: 0 15px 30px rgba(var(--accent-rgb), 0.2); z-index: 10; border-color: var(--accent-color); }
.day-card-header { font-size: 1.2rem; margin: 0 0 1rem; padding-bottom: 0.75rem; border-bottom: 1px solid var(--border-color); font-weight: 700; color: var(--accent-color); }
.day-card-classes-list { display: flex; flex-direction: column; gap: 0.75rem; max-height: 350px; overflow-y: auto; padding-right: 4px; }
.day-card-classes-list::-webkit-scrollbar { width: 8px; }
.day-card-classes-list::-webkit-scrollbar-track { background: var(--bg-color); border-radius: 10px; }
.day-card-classes-list::-webkit-scrollbar-thumb { background-color: var(--accent-color); border-radius: 10px; border: 2px solid var(--bg-color); }
.no-classes-text { color: var(--text-muted-color); font-size: 0.9rem; text-align: center; padding: 2rem 0; }
.class-list-item { display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; border-radius: var(--border-radius); background: var(--bg-color); cursor: pointer; transition: all var(--transition-speed); }
.class-list-item:hover { transform: translateX(-5px); background: color-mix(in srgb, var(--accent-color) 8%, transparent); }
.class-list-item-details h4 { margin: 0 0 0.25rem; font-size: 1rem; color: var(--text-color); }
.class-list-item-details p { margin: 0; font-size: 0.8rem; display: flex; align-items: center; gap: 0.5rem; color: var(--text-muted-color); }

/* --- DASHBOARD SECTIONS --- */
.announcements-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; }
.post-card { background: var(--card-bg); border-radius: var(--border-radius-lg); box-shadow: var(--card-shadow); border: 1px solid var(--border-color); overflow: hidden; display: flex; flex-direction: column; }
.post-card-image { width: 100%; height: 180px; object-fit: cover; }
.post-card-content { padding: 1.5rem; flex-grow: 1; display: flex; flex-direction: column; }
.post-card-content h3 { font-size: 1.2rem; margin: 0 0 0.5rem; }
.post-card-content p { font-size: 0.95rem; margin-bottom: 1rem; flex-grow: 1; }
.post-card-date { font-size: 0.8rem; color: var(--text-muted-color); align-self: flex-end; }
.gallery-preview-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem; }
.gallery-preview-item { height: 200px; border-radius: var(--border-radius); background-size: cover; background-position: center; position: relative; overflow: hidden; cursor: pointer; }
.gallery-item-overlay { position: absolute; bottom: 0; left: 0; right: 0; padding: 1rem; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); color: white; transform: translateY(100%); transition: transform var(--transition-speed); }
.gallery-preview-item:hover .gallery-item-overlay { transform: translateY(0); }
.gallery-item-overlay p { margin: 0; color: #fff; font-size: 0.9rem; }


/* --- MODALS --- */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); backdrop-filter: blur(5px); z-index: 2000; display: flex; align-items: center; justify-content: center; animation: fadeIn 0.3s; }
.modal-container { background: var(--bg-secondary-color); border-radius: var(--border-radius-lg); box-shadow: var(--shadow-lg); width: 90%; max-width: 500px; animation: slideInUp 0.3s; overflow: hidden; display: flex; flex-direction: column; }
@keyframes slideInUp { from { opacity: 0; transform: translateY(30px) scale(0.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
.modal-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; border-bottom: 1px solid var(--border-color); }
.modal-header h3 { font-size: 1.25rem; margin: 0; display: flex; align-items: center; gap: 0.5rem; }
.modal-body { padding: 1.5rem; overflow-y: auto; max-height: 70vh; }
.modal-footer { padding: 1rem 1.5rem; border-top: 1px solid var(--border-color); display: flex; justify-content: flex-end; gap: 1rem; background-color: var(--bg-color); }
.close-btn { background: none; border: none; cursor: pointer; color: var(--text-muted-color); padding: 0.5rem; font-size: 1.5rem; line-height: 1; }

.class-detail-modal .modal-body { position: relative; }
.class-detail-modal h2 { font-size: 1.75rem; margin: 0 0 1.5rem; color: var(--accent-color); }
.class-detail-modal p { display: flex; align-items: flex-start; gap: 0.75rem; font-size: 1.1rem; padding: 0.5rem 0; border-bottom: 1px solid var(--border-color); }
.class-detail-modal p:last-child { border-bottom: none; }
.class-detail-modal p strong { color: var(--text-color); }
.review-badge-popup {
    position: absolute;
    top: 1.5rem;
    left: 1.5rem;
    background-color: var(--info-color);
    color: #fff;
    padding: 0.25rem 0.75rem;
    border-radius: var(--border-radius-pill);
    font-size: 0.8rem;
    font-weight: 700;
}


.teacher-detail-modal .modal-body {
  text-align: center;
  padding: 2rem 1.5rem;
}
.teacher-detail-image {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  object-fit: cover;
  margin: 0 auto 1.5rem;
  border: 4px solid var(--bg-color);
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}
.teacher-detail-modal h2 {
  font-size: 1.75rem;
  margin: 0 0 0.5rem;
  color: var(--text-color);
}
.teacher-detail-subject {
  font-size: 1.1rem;
  color: var(--accent-color);
  font-weight: 500;
  margin-bottom: 1rem;
}
.teacher-detail-phone {
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.5rem 1rem;
  background-color: var(--bg-color);
  border-radius: var(--border-radius-pill);
  font-size: 1rem;
  color: var(--text-muted-color);
}
.teacher-detail-phone svg {
  color: var(--accent-color);
}

.confirmation-modal .modal-body { text-align: center; }
.confirmation-modal .confirmation-message p { color: var(--text-color); font-size: 1rem; }
.confirmation-modal .confirmation-message p:first-child { font-size: 1.1rem; font-weight: 700; margin-bottom: 0.5rem; }

/* --- FAB & CHAT MODAL --- */
.fab {
    position: fixed;
    bottom: 2rem;
    left: 2rem;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: var(--accent-color);
    color: var(--accent-text-color);
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--shadow-lg);
    z-index: 1000;
    transition: all var(--transition-speed);
}
.fab:hover { transform: translateY(-4px) scale(1.05); box-shadow: 0 12px 20px rgba(var(--accent-rgb), 0.3); }
.chat-modal { max-width: 450px; height: 80vh; max-height: 600px; }
.chat-body { flex-grow: 1; padding: 1rem; display: flex; flex-direction: column; gap: 0.75rem; overflow-y: auto; }
.chat-bubble {
    padding: 0.75rem 1rem;
    border-radius: var(--border-radius-lg);
    max-width: 80%;
    line-height: 1.5;
}
.chat-bubble.user { background: var(--accent-color); color: var(--accent-text-color); border-bottom-left-radius: 4px; align-self: flex-start; }
.chat-bubble.ai { background: var(--ai-bubble-bg); color: var(--text-color); border-bottom-right-radius: 4px; align-self: flex-end; }
.typing-indicator span {
    height: 8px; width: 8px; border-radius: 50%; background-color: var(--text-muted-color);
    display: inline-block; animation: wave 1.3s infinite;
}
.typing-indicator span:nth-of-type(2) { animation-delay: -1.1s; }
.typing-indicator span:nth-of-type(3) { animation-delay: -0.9s; }
@keyframes wave { 0%, 60%, 100% { transform: initial; } 30% { transform: translateY(-8px); } }
.chat-footer { padding: 0.75rem; }
.chat-input-form { display: flex; gap: 0.5rem; }
.chat-input-form input { flex-grow: 1; border-radius: var(--border-radius); }
.chat-input-form button {
    flex-shrink: 0; width: 44px; height: 44px; border: none; background: var(--accent-color); color: var(--accent-text-color);
    border-radius: var(--border-radius); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: background-color var(--transition-speed);
}
.chat-input-form button:hover:not(:disabled) { background: var(--accent-hover-color); }
.chat-input-form button:disabled { background: var(--text-muted-color); cursor: not-allowed; opacity: 0.7; }

/* Loading Spinner */
.loading-spinner, .loading-screen .loading-spinner { width: 40px; height: 40px; border: 4px solid color-mix(in srgb, var(--accent-color) 30%, transparent); border-top-color: var(--accent-color); border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }
.loading-screen { display: flex; justify-content: center; align-items: center; width: 100vw; height: 100vh; background-color: var(--bg-color); }
.loading-screen .loading-spinner { width: 60px; height: 60px; }


/* Admin Panel */
.admin-panel { display: flex; flex-direction: column; gap: 1rem; padding: 1.5rem; }
.admin-tabs { display: flex; flex-wrap: wrap; gap: 0.5rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; margin-bottom: 1rem; }
.admin-tabs button {
    padding: 0.75rem 1.25rem; font-size: 0.9rem; font-weight: 500; border: none; background: transparent;
    color: var(--text-muted-color); cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.2s;
    display: flex; align-items: center; gap: 0.5rem; border-radius: var(--border-radius) var(--border-radius) 0 0;
}
.admin-tabs button:hover { color: var(--text-color); background-color: var(--bg-color); }
.admin-tabs button.active { color: var(--accent-color); border-bottom-color: var(--accent-color); font-weight: 700; }
.admin-content { animation: fadeIn 0.3s ease; }
.admin-section-content { display: flex; flex-direction: column; gap: 1.5rem; }
.admin-section-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; }
.admin-section-header h3 { margin: 0; font-size: 1.25rem; }
.admin-add-btn { display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; }
.admin-items-grid { display: grid; gap: 1.5rem; }
.teachers-grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
.trips-grid { grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); }
.gallery-grid { grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); }
.classes-grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
.books-grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
.posts-grid { grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); }

.admin-item-card {
    background: var(--bg-color); border: 1px solid var(--border-color); border-radius: var(--border-radius);
    display: flex; flex-direction: column; overflow: hidden; position: relative;
    box-shadow: var(--shadow-sm); transition: all var(--transition-speed);
}
.admin-item-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-md); border-color: color-mix(in srgb, var(--accent-color) 50%, transparent); }
.admin-item-image { width: 100%; object-fit: cover; aspect-ratio: 16/10; background-color: var(--border-color); }
.teachers-grid .admin-item-image { aspect-ratio: 1/1; }
.admin-item-card.book-card .admin-item-image { aspect-ratio: 2 / 3; }
.class-card { flex-direction: row; align-items: center; padding: 1rem; }
.review-badge-admin {
    position: absolute;
    top: -1px;
    right: -1px;
    background-color: var(--info-color);
    color: #fff;
    padding: 0.25rem 0.75rem;
    border-radius: 0 var(--border-radius) 0 var(--border-radius);
    font-size: 0.8rem;
    font-weight: 700;
}
.admin-item-info { padding: 1rem; flex-grow: 1; text-align: right; }
.class-card .admin-item-info { padding: 0 1rem 0 0; }
.admin-item-info h4 { margin: 0 0 0.25rem; font-size: 1.1rem; }
.admin-item-info p { margin: 0; font-size: 0.9rem; }
.admin-item-info small { font-size: 0.85rem; color: var(--accent-color); }
.trip-details-badges { display: flex; gap: 0.5rem; margin-top: 0.75rem; }
.trip-details-badges span {
    background-color: color-mix(in srgb, var(--accent-color) 15%, transparent);
    color: var(--accent-color);
    padding: 0.25rem 0.75rem;
    border-radius: var(--border-radius-pill);
    font-size: 0.8rem;
    font-weight: 700;
}
.admin-item-controls {
    position: absolute; top: 0.75rem; left: 0.75rem;
    display: flex; gap: 0.5rem;
    background: rgba(var(--header-bg-rgba), 0.5);
    padding: 0.5rem;
    border-radius: var(--border-radius-pill);
    backdrop-filter: blur(4px);
    opacity: 0;
    transition: opacity var(--transition-speed);
}
.class-card .admin-item-controls { position: static; opacity: 1; background: none; padding: 0; backdrop-filter: none; }
.admin-item-card:hover .admin-item-controls { opacity: 1; }
.admin-item-controls button {
    background: var(--bg-secondary-color); border: 1px solid var(--border-color);
    width: 32px; height: 32px; border-radius: 50%;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    font-size: 0.9rem;
}
.admin-item-controls button:hover { background: var(--bg-color); }

/* Admin Modal Styles */
.admin-modal { max-width: 600px; }
.admin-modal-body { display: flex; flex-direction: column; gap: 1rem; text-align: right; }
.admin-modal-body .form-group input, .admin-modal-body .form-group textarea, .admin-modal-body .form-group select {
    width: 100%;
    padding: 0.8rem 1rem;
    background-color: var(--input-bg);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    color: var(--text-color);
    font-family: var(--font-family);
    font-size: 1rem;
    text-align: right;
}
.admin-modal-body .form-group input[type="date"],
.admin-modal-body .form-group input[type="time"] {
    text-align: right;
}
.admin-modal-body .form-group { text-align: right; }
.admin-modal-body .form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}
.checkbox-group {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    background-color: var(--input-bg);
    padding: 0.75rem 1rem;
    border-radius: var(--border-radius);
}
.checkbox-group input[type="checkbox"] {
    width: 1.15rem;
    height: 1.15rem;
    accent-color: var(--accent-color);
}
.checkbox-group label {
    margin: 0;
    color: var(--text-color);
}
.file-input {
  display: block;
  width: 100%;
  padding: 0.5rem;
  font-size: 0.9rem;
}
.file-input::file-selector-button {
  margin-left: 1rem;
  padding: 0.5rem 1rem;
  border-radius: var(--border-radius);
  border: 1px solid var(--border-color);
  background-color: var(--bg-color);
  color: var(--text-color);
  cursor: pointer;
  transition: all var(--transition-speed);
}
.file-input::file-selector-button:hover {
  background-color: var(--border-color);
}
.image-preview-container {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  margin-top: 1rem;
  padding: 0.5rem;
  background-color: var(--bg-color);
  border-radius: var(--border-radius);
}
.image-preview {
  width: 80px;
  height: 80px;
  object-fit: cover;
  border-radius: var(--border-radius);
  border: 1px solid var(--border-color);
}
.image-preview-container.single-preview {
  justify-content: center;
  padding: 1rem;
}
.image-preview-container.single-preview .image-preview {
  width: 150px;
  height: 150px;
}



/* Admin Stats & Bookings */
.admin-stats-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 1.5rem; }
.stat-card {
    background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: var(--border-radius-lg);
    padding: 1.5rem; display: flex; align-items: center; gap: 1.5rem; transition: all var(--transition-speed);
}
.stat-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-lg); }
.stat-card-icon { width: 50px; height: 50px; border-radius: 50%; font-size: 1.5rem; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.stat-card-value { font-size: 2.2rem; font-weight: 900; display: block; color: var(--text-color); }
.stat-card-label { font-size: 0.9rem; color: var(--text-muted-color); }
.stat-card.total-bookings .stat-card-icon { background-color: color-mix(in srgb, #4299e1 15%, transparent); color: #4299e1; }
.stat-card.class-bookings .stat-card-icon { background-color: color-mix(in srgb, #48bb78 15%, transparent); color: #48bb78; }
.stat-card.trip-bookings .stat-card-icon { background-color: color-mix(in srgb, #f6ad55 15%, transparent); color: #f6ad55; }
.stat-card.student-count .stat-card-icon { background-color: color-mix(in srgb, #9f7aea 15%, transparent); color: #9f7aea; }

.bookings-table-container { overflow-x: auto; }
.bookings-table { width: 100%; border-collapse: collapse; margin-top: 1.5rem; font-size: 0.9rem; }
.bookings-table th, .bookings-table td { padding: 1rem; text-align: right; border-bottom: 1px solid var(--border-color); }
.bookings-table thead { background-color: var(--bg-color); }
.bookings-table tbody tr:hover { background-color: var(--bg-color); }
.booking-type-badge {
    padding: 0.25rem 0.75rem;
    border-radius: var(--border-radius-pill);
    font-size: 0.8rem;
    font-weight: 700;
}
.booking-type-badge.class { background-color: color-mix(in srgb, var(--info-color) 15%, transparent); color: var(--info-color); }
.booking-type-badge.trip { background-color: color-mix(in srgb, #f6ad55 15%, transparent); color: #f6ad55; }


/* Admin Student Search Section */
.admin-search-form {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
}
.admin-search-form input {
    flex-grow: 1;
    padding: 0.8rem 1rem;
    background-color: var(--input-bg);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    color: var(--text-color);
    font-family: var(--font-family);
    font-size: 1rem;
}
.student-search-results {
    margin-top: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 2rem;
}
.student-details-card p {
    margin: 0.5rem 0;
    font-size: 1rem;
    color: var(--text-muted-color);
}
.student-details-card p strong {
    color: var(--text-color);
}
.student-bookings-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}
.booking-card {
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-lg);
    padding: 1.5rem;
}
.booking-card-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}
.booking-card h4 {
    margin: 0;
}
.booking-card p {
    font-size: 0.9rem;
    margin: 0.25rem 0;
    color: var(--text-muted-color);
}
.booking-card p strong {
    color: var(--text-color);
}

.profile-initial-avatar {
    width: 60px; height: 60px; border-radius: 50%; background: var(--accent-color); color: var(--accent-text-color);
    display: flex; align-items: center; justify-content: center; font-size: 1.75rem; font-weight: 700;
}

/* --- TOAST NOTIFICATIONS --- */
.toast-notification {
  position: fixed; top: 2rem; left: 50%;
  transform: translate(-50%, -200%);
  z-index: 3000;
  display: flex; align-items: center; gap: 1rem;
  padding: 1rem 1.5rem;
  border-radius: var(--border-radius-pill);
  box-shadow: var(--shadow-lg);
  color: var(--accent-text-color);
  font-weight: 500;
  transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
}
.toast-notification.show { transform: translate(-50%, 0); }
.toast-notification.success { background-color: var(--success-color); }
.toast-notification.error { background-color: var(--error-color); }
.toast-notification.info { background-color: var(--info-color); }
.toast-icon { display: flex; align-items: center; }
.toast-notification p { margin: 0; color: var(--accent-text-color); }
.toast-close-btn { background: none; border: none; color: var(--accent-text-color); opacity: 0.7; font-size: 1.2rem; cursor: pointer; padding: 0 0 0 1rem; }

/* --- BUTTONS --- */
.btn {
  padding: 0.7rem 1.5rem;
  font-size: 1rem;
  font-weight: 700;
  border-radius: var(--border-radius-pill);
  border: 1px solid transparent;
  cursor: pointer;
  transition: all var(--transition-speed);
  font-family: var(--font-family);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}
.btn:disabled { cursor: not-allowed; opacity: 0.6; }
.btn-primary { background-color: var(--accent-color); color: var(--accent-text-color); border-color: var(--accent-color); }
.btn-primary:hover:not(:disabled) { background-color: var(--accent-hover-color); border-color: var(--accent-hover-color); transform: translateY(-2px); }
.btn-secondary { background-color: var(--bg-color); color: var(--text-color); border-color: var(--border-color); }
.btn-secondary:hover:not(:disabled) { background-color: var(--border-color); }
.btn-danger { background-color: var(--error-color); color: #fff; border-color: var(--error-color); }
.btn-danger:hover:not(:disabled) { background-color: color-mix(in srgb, var(--error-color) 85%, black); }
.btn-success { background-color: var(--success-color); color: #fff; border-color: var(--success-color); }
.btn-success:hover:not(:disabled) { background-color: color-mix(in srgb, var(--success-color) 85%, black); }


/* --- PROFILE PAGE --- */
.profile-page-card { display: flex; flex-direction: column; gap: 2rem; }
.profile-header-section { display: flex; align-items: center; gap: 1.5rem; padding-bottom: 2rem; border-bottom: 1px solid var(--border-color); }
.profile-page-avatar { width: 90px; height: 90px; font-size: 3rem; }
.profile-header-info h2 { margin: 0 0 0.5rem; font-size: 2rem; }
.profile-header-info p { margin: 0; font-size: 1rem; }
.user-role-badge {
    display: inline-block;
    margin-top: 0.5rem;
    padding: 0.25rem 0.75rem;
    border-radius: var(--border-radius-pill);
    font-size: 0.8rem;
    font-weight: 700;
    background-color: color-mix(in srgb, var(--accent-color) 15%, transparent);
    color: var(--accent-color);
    text-transform: capitalize;
}
.profile-form { display: flex; flex-direction: column; gap: 1.5rem; }
.form-section-title { font-size: 1.2rem; margin: 0; padding-bottom: 1rem; border-bottom: 1px solid var(--border-color); }
.form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }
.form-group label { display: block; margin-bottom: 0.5rem; color: var(--text-muted-color); font-size: 0.9rem; }
.form-group input {
    width: 100%;
    padding: 0.8rem 1rem;
    background-color: var(--input-bg);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    color: var(--text-color);
    font-family: var(--font-family);
    font-size: 1rem;
}
.form-group input:disabled { background-color: var(--border-color); cursor: not-allowed; opacity: 0.7; }
.form-actions { display: flex; justify-content: flex-start; }
.danger-zone {
    background-color: var(--danger-bg);
    border: 1px solid var(--danger-border);
    border-radius: var(--border-radius-lg);
    padding: 1.5rem;
}
.danger-zone .form-section-title {
    color: var(--danger-text);
    border-bottom-color: var(--danger-border);
}
.danger-zone-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 1rem;
}
.danger-zone-content p {
    color: var(--danger-text);
    margin: 0;
    flex-grow: 1;
}

/* --- NOTIFICATIONS PANEL --- */
.notifications-wrapper {
    position: relative;
}
.notification-badge {
    position: absolute;
    top: 4px;
    right: 4px;
    background-color: var(--error-color);
    color: white;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    font-size: 0.75rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid var(--header-bg-rgba);
    transform: scale(1);
    animation: pop-in 0.3s cubic-bezier(0.25, 1, 0.5, 1);
}
@keyframes pop-in {
    0% { transform: scale(0); }
    80% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

.notifications-panel {
    position: absolute;
    top: calc(100% + 1rem);
    left: 0;
    width: 350px;
    background-color: var(--bg-secondary-color);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-lg);
    border: 1px solid var(--border-color);
    z-index: 1100;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    animation: fadeIn 0.2s ease-out;
}
.notifications-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    border-bottom: 1px solid var(--border-color);
}
.notifications-header h3 {
    margin: 0;
    font-size: 1.1rem;
}
.notifications-header button {
    background: none;
    border: none;
    color: var(--accent-color);
    font-size: 0.85rem;
    cursor: pointer;
    font-family: var(--font-family);
}
.notifications-header button:disabled {
    color: var(--text-muted-color);
    cursor: not-allowed;
}

.notifications-list {
    max-height: 400px;
    overflow-y: auto;
}
.notification-item {
    display: flex;
    gap: 1rem;
    padding: 1rem;
    border-bottom: 1px solid var(--border-color);
    transition: background-color var(--transition-speed);
    cursor: pointer;
}
.notification-item:last-child {
    border-bottom: none;
}
.notification-item:hover {
    background-color: var(--bg-color);
}
.notification-item.read {
    opacity: 0.6;
}
.notification-icon {
    font-size: 1.25rem;
    line-height: 1;
}
.notification-content p {
    margin: 0 0 0.25rem;
    font-size: 0.9rem;
    color: var(--text-color);
}
.notification-content small {
    font-size: 0.8rem;
    color: var(--text-muted-color);
}
.no-notifications {
    text-align: center;
    padding: 3rem 1rem;
    color: var(--text-muted-color);
}

/* --- PUBLIC PAGES (TEACHERS, GALLERY, TRIPS) --- */
.teachers-public-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1.5rem;
}
.teacher-public-card {
    text-align: center;
    cursor: pointer;
    transition: all var(--transition-speed);
}
.teacher-public-card:hover {
    transform: translateY(-5px);
}
.teacher-public-image {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    margin: 0 auto 1rem;
    box-shadow: var(--card-shadow);
    border: 3px solid var(--bg-secondary-color);
}
.teacher-public-card:hover .teacher-public-image {
    box-shadow: 0 5px 15px rgba(var(--accent-rgb), 0.3);
}
.teacher-public-info h4 {
    margin: 0 0 0.25rem;
    font-size: 1.1rem;
}
.teacher-public-info p {
    margin: 0;
    color: var(--accent-color);
    font-size: 0.9rem;
}

.gallery-full-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1rem;
}
.gallery-full-item {
    position: relative;
    border-radius: var(--border-radius-lg);
    overflow: hidden;
    cursor: pointer;
    aspect-ratio: 4 / 3;
    background-color: var(--border-color);
}
.gallery-full-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
}
.gallery-full-item:hover img {
    transform: scale(1.05);
}
.gallery-full-item-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 1.5rem 1rem 1rem;
    background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
    color: white;
    transform: translateY(100%);
    transition: transform var(--transition-speed);
}
.gallery-full-item:hover .gallery-full-item-overlay {
    transform: translateY(0);
}
.gallery-full-item-overlay p {
    margin: 0;
    color: #fff;
    font-size: 0.95rem;
}

.trips-public-list {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}
.trip-public-card {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: 2rem;
    background-color: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-lg);
    overflow: hidden;
    box-shadow: var(--card-shadow);
    transition: all var(--transition-speed);
}
.trip-public-card:hover {
    transform: scale(1.02);
    box-shadow: var(--shadow-lg);
}
.trip-public-image-container {
    position: relative;
    background-color: var(--bg-color);
}
.trip-public-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
.trip-public-image-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 4rem;
    color: var(--text-muted-color);
    background-color: var(--bg-color);
}

.trip-spots-badge {
    position: absolute;
    top: 1rem;
    left: 1rem;
    background-color: rgba(var(--accent-rgb), 0.8);
    backdrop-filter: blur(5px);
    color: var(--accent-text-color);
    padding: 0.4rem 0.8rem;
    border-radius: var(--border-radius-pill);
    font-size: 0.85rem;
    font-weight: 700;
}
.trip-public-info {
    padding: 1.5rem 2rem 1.5rem 0;
    display: flex;
    flex-direction: column;
}
.trip-public-info h3 {
    font-size: 1.75rem;
    margin: 0 0 1rem;
}
.trip-public-details {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    margin-bottom: 1rem;
    color: var(--text-muted-color);
}
.trip-public-details span {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
}
.trip-public-description {
    flex-grow: 1;
    font-size: 1rem;
    margin-bottom: 1.5rem;
}
.trip-public-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.trip-price-badge {
    font-size: 1.5rem;
    font-weight: 900;
    color: var(--accent-color);
}


/* --- SCHEDULE PAGE --- */
.full-schedule-list {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}
.schedule-day-group {
    border-left: 3px solid var(--accent-color);
    padding-left: 1.5rem;
}
.schedule-day-header {
    font-size: 1.5rem;
    margin-bottom: 1rem;
    font-weight: 700;
    position: relative;
}
.schedule-day-header::before {
    content: '';
    position: absolute;
    left: -27px;
    top: 50%;
    transform: translateY(-50%);
    width: 15px;
    height: 15px;
    border-radius: 50%;
    background-color: var(--accent-color);
    border: 3px solid var(--bg-secondary-color);
}
.schedule-class-items {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}
.schedule-class-item {
    display: flex;
    align-items: center;
    background-color: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 1rem;
    cursor: pointer;
    transition: all var(--transition-speed);
}
.schedule-class-item:hover {
    border-color: var(--accent-color);
    transform: translateX(10px);
    box-shadow: var(--shadow-md);
}
.class-time {
    font-weight: 700;
    color: var(--accent-color);
    min-width: 120px;
    font-size: 1.1rem;
    border-left: 1px solid var(--border-color);
    padding-left: 1rem;
    margin-left: 1rem;
}
.class-details h4 {
    margin: 0 0 0.25rem;
    font-size: 1.1rem;
}
.class-details p {
    margin: 0;
    font-size: 0.9rem;
}
.class-chevron {
    margin-right: auto;
    color: var(--text-muted-color);
}

/* --- BOOKS PAGE --- */
.books-public-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 2rem;
}
.book-public-card {
    background-color: var(--card-bg);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--card-shadow);
    border: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}
.book-public-image-container {
    height: 300px;
    background-color: var(--bg-color);
}
.book-public-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
.book-public-info {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}
.book-public-info h3 {
    margin: 0 0 0.5rem;
    font-size: 1.2rem;
}
.book-public-description {
    font-size: 0.9rem;
    margin-bottom: 1rem;
    flex-grow: 1;
}
.book-public-footer {
    margin-top: auto;
}
.book-public-footer .btn {
    width: 100%;
}


/* --- EXAMS PAGE --- */
.exam-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 1.5rem;
}
.exam-header .content-section-title {
    margin-bottom: 0;
}
.exam-info-header {
    display: flex;
    align-items: center;
    gap: 1rem;
}
.exam-grade-badge {
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    padding: 0.5rem 1rem;
    border-radius: var(--border-radius-pill);
    font-weight: 700;
}
.exam-timer {
    background-color: var(--accent-color);
    color: var(--accent-text-color);
    padding: 0.5rem 1.2rem;
    border-radius: var(--border-radius-pill);
    font-weight: 700;
    font-size: 1.1rem;
    min-width: 80px;
    text-align: center;
}
.exam-card {
    padding: 2rem;
}
.exam-loading-overlay {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    min-height: 300px;
}
.exam-loading-overlay p {
    font-size: 1.1rem;
    color: var(--text-color);
}
.exam-selection-card {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    max-width: 500px;
    margin: 0 auto;
}
.exam-selection-card h3 {
    text-align: center;
    font-size: 1.5rem;
}
.exam-config-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.btn-start-exam {
    padding: 1rem;
    font-size: 1.2rem;
}
.exam-in-progress-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}
.exam-question-card {
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-lg);
    padding: 1.5rem;
}
.exam-question-card h4 {
    margin-top: 0;
    font-size: 1.2rem;
}
.exam-options {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}
.exam-option {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: all var(--transition-speed);
}
.exam-option:hover {
    background-color: var(--bg-secondary-color);
    border-color: var(--accent-color);
}
.exam-option.selected {
    background-color: color-mix(in srgb, var(--accent-color) 15%, transparent);
    border-color: var(--accent-color);
    color: var(--accent-color);
    font-weight: 700;
}
.option-key {
    flex-shrink: 0;
    width: 30px;
    height: 30px;
    border: 1px solid var(--border-color);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
}
.exam-option.selected .option-key {
    background-color: var(--accent-color);
    color: var(--accent-text-color);
    border-color: var(--accent-color);
}
.exam-actions {
    margin-top: 1.5rem;
    display: flex;
    justify-content: center;
}
.btn-finish-exam {
    font-size: 1.2rem;
}
.exam-results-card {
    text-align: center;
}
.exam-results-card h2 {
    font-size: 2rem;
}
.star-emoji {
    animation: pulse 1.5s infinite;
}
.results-feedback-list {
    margin-top: 2rem;
    text-align: right;
}
.results-feedback-item {
    background-color: var(--bg-color);
    padding: 1.5rem;
    border-radius: var(--border-radius-lg);
    margin-bottom: 1rem;
    border-left: 5px solid var(--error-color);
}
.results-feedback-item .question-text {
    font-weight: 700;
    font-size: 1.1rem;
    color: var(--text-color);
}
.results-feedback-item .answer-details {
    margin: 0.5rem 0;
}
.user-answer {
    color: var(--error-color);
    text-decoration: line-through;
}
.correct-answer {
    color: var(--success-color);
}
.explanation {
    margin-top: 1rem;
    padding: 1rem;
    background-color: var(--bg-secondary-color);
    border-radius: var(--border-radius);
}


/* --- STATIC PAGES --- */
.static-page-content {
    line-height: 1.8;
}
.static-page-content h3 {
    font-size: 1.5rem;
    margin-top: 2rem;
    margin-bottom: 1rem;
    color: var(--accent-color);
}
.static-page-content ul, .static-page-content ol {
    padding-right: 2rem;
}
.static-page-content li {
    margin-bottom: 0.75rem;
}


/* --- RESPONSIVE DESIGN --- */
@media (max-width: 900px) {
    .auth-container {
        grid-template-columns: 1fr;
    }
    .auth-art-panel {
        display: none;
    }
    .auth-form-panel {
        background-color: var(--bg-color);
    }
}


@media (max-width: 768px) {
    .page-container {
        padding: 1rem;
    }
    .content-card {
        padding: 1rem 1.5rem;
    }
    .weekly-schedule-wrapper {
        padding: 0;
    }
    .horizontal-scroll-area {
        gap: 1rem;
    }
    .day-card {
        flex: 0 0 280px;
    }
    .app-header {
        width: calc(100% - 2rem);
    }
    .trip-public-card {
        grid-template-columns: 1fr;
    }
    .trip-public-image-container {
        height: 200px;
    }
    .trip-public-info {
        padding: 1.5rem;
    }
    .profile-header-section {
        flex-direction: column;
        text-align: center;
    }
    .admin-tabs {
        flex-direction: column;
        align-items: stretch;
    }
}
@media (max-width: 480px) {
    :root {
      --header-height: 60px;
    }
    .main-content {
      padding-top: calc(var(--header-height) + 1rem);
    }
    .header-title {
        font-size: 1.5rem;
    }
    .sidebar {
        width: 100%;
    }
    .fab {
        bottom: 1rem;
        left: 1rem;
        width: 50px;
        height: 50px;
    }
    .day-card {
        flex: 0 0 calc(100% - 2rem);
    }
    .modal-container {
        width: calc(100% - 2rem);
    }
    .content-section-title {
        font-size: 1.5rem;
    }
    .auth-card {
        padding: 1rem;
    }
    .demo-buttons {
        flex-direction: column;
    }
    .exam-config-grid {
        grid-template-columns: 1fr;
    }
}